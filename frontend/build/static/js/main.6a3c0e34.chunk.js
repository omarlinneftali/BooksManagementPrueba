(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(21),c=n.n(o),i=(n(75),n(77),n(29)),s=n(8),l=n(17),d=n.n(l),u=n(3),j=n(22),b=n(7),v=function(e,t){return!(!e||!e[t])};var p=n(2),O=function(e){var t=e.errors,n=e.name,a=e.type,r="feedback"===(void 0===a?"alert":a)?"invalid-feedback":"alert alert-danger";return t&&"string"===typeof t?Object(p.jsx)("div",{className:"".concat(r),style:{fontSize:"1em"},children:t}):Object(p.jsx)(p.Fragment,{children:t&&t[n]&&Object(p.jsx)("div",{className:"".concat(r),style:{fontSize:"1em"},children:t[n]})})},f=["name","label","errors","id","value","onChange","type","hasInnerErrorMessage","onEnter","placeholder","className","isRequired","disabled","readOnly"],h=function(e){var t=e.name,n=e.label,a=e.errors,r=e.id,o=e.value,c=e.onChange,i=e.type,s=void 0===i?"text":i,l=e.hasInnerErrorMessage,d=void 0!==l&&l,j=e.onEnter,h=e.placeholder,x=void 0===h?"":h,m=e.className,g=void 0===m?"":m,C=e.isRequired,k=void 0!==C&&C,T=e.disabled,N=void 0!==T&&T,E=e.readOnly,y=void 0!==E&&E,S=Object(b.a)(e,f);return Object(p.jsxs)("div",{className:"form-group",children:[n&&Object(p.jsx)("label",{htmlFor:r||t,className:"text-left ".concat(k?"is-required":""),style:{fontSize:"14px"},children:n}),Object(p.jsx)("input",Object(u.a)({className:"form-control ".concat(v(a,t)?"is-invalid":"","   ").concat(g," "),name:t,id:r||t,value:o,onChange:c,type:s,placeholder:x,onKeyUp:function(e){"Enter"!=(null===e||void 0===e?void 0:e.code)&&"NumpadEnter"!=(null===e||void 0===e?void 0:e.code)||j&&j()},disabled:N,readOnly:y},S)),Object(p.jsx)(O,{errors:a,name:t,type:"feedback",isInnerErrorProperty:d})]})},x=["label","iconTextPrepend","iconTextAppend","iconPrepend","iconAppend","PrependComponent","AppendComponent","id","onChange","onEnter","children","value","labelClass","name","errors","isRequired"];var m=function(e){var t=e.label,n=e.iconTextPrepend,a=e.iconTextAppend,r=e.iconPrepend,o=e.iconAppend,c=e.PrependComponent,i=e.AppendComponent,s=e.id,l=e.onChange,d=e.onEnter,j=e.children,f=e.value,h=(e.labelClass,e.name),m=e.errors,g=e.isRequired,C=void 0!==g&&g,k=Object(b.a)(e,x);return Object(p.jsxs)("div",{className:"form-group",children:[t&&Object(p.jsx)("label",{htmlFor:s||h,className:"text-left ".concat(C?"is-required":""),children:t}),Object(p.jsxs)("div",{className:"input-group  has-validation",children:[(c||r||n)&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"input-group-prepend",children:c||(r?Object(p.jsx)("span",{className:"input-group-text",children:Object(p.jsx)("i",{className:"fa ".concat(r),"aria-hidden":"true"})}):Object(p.jsx)("span",{className:"input-group-text",children:n}))})}),j||Object(p.jsx)("input",Object(u.a)({className:"form-control ".concat(v()?"is-invalid":""),name:h,id:s||h,value:f,onChange:l,onKeyUp:function(e){"Enter"==e.code&&d&&d()}},k)),(i||o||a)&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("span",{className:"input-group-append",children:i||(o?Object(p.jsx)("span",{className:"input-group-text",children:Object(p.jsx)("i",{className:"fa ".concat(o),"aria-hidden":"true"})}):Object(p.jsx)("span",{className:"input-group-text",children:a}))})})]}),Object(p.jsx)(O,{errors:m,name:h,type:"alert"})]})},g=n(31),C=["name","label","errors","id","value","onChange","onClick","btnClass","iconSize","disabled","isRequired"],k=function(e){var t=e.name,n=e.label,a=e.errors,r=(e.id,e.value),o=e.onChange,c=e.onClick,i=e.btnClass,s=void 0===i?"btn-primary":i,l=(e.iconSize,e.disabled),d=void 0!==l&&l,j=e.isRequired,v=void 0!==j&&j,O=Object(b.a)(e,C);return Object(p.jsx)(m,Object(u.a)(Object(u.a)({name:t,label:n,value:r,onChange:o,errors:a,disabled:d,isRequired:v},O),{},{AppendComponent:Object(p.jsxs)("button",{className:"btn ".concat(s),type:"button",onClick:c,children:[" ",Object(p.jsx)(g.c,{})]})}))},T=n(19),N=n(30),E=n(135),y=["placement","id","children","tooltipText"],S=function(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.id,o=e.children,c=e.tooltipText,i=Object(b.a)(e,y),s=Object(a.useState)(!1),l=Object(N.a)(s,2),d=l[0],u=l[1];return o="function"==typeof o?o(r,i):o,Object(p.jsxs)(p.Fragment,{children:[o,Object(p.jsx)(E.a,{placement:n,isOpen:d,target:r,toggle:function(){return u(!d)},children:c})]})},A=n(130),P=["placement","id","tooltipText","children","outline"],R=function(e){var t=e.placement,n=void 0===t?"bottom":t,a=e.id,r=e.tooltipText,o=e.children,c=e.outline,i=void 0!==c&&c,s=Object(b.a)(e,P);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(S,{placement:n,id:a,tooltipText:r,children:function(e){return Object(p.jsx)(A.a,Object(u.a)(Object(u.a)({id:e,outline:i},s),{},{children:o}))}})})},_=["className","color","tooltipText","id","onClick","isAdd"],w=function(e){e.className;var t=e.color,n=void 0===t?"primary":t,a=e.tooltipText,r=void 0===a?"Agregar":a,o=e.id,c=void 0===o?"add":o,i=e.onClick,s=(e.isAdd,Object(b.a)(e,_));return Object(p.jsxs)(R,Object(u.a)(Object(u.a)({className:"mr-1",color:n,tooltipText:"Agregar",id:c||r,onClick:i},s),{},{children:["Agregar ",Object(p.jsx)("i",{className:"fa fa-plus"})]}))},F=["className","color","tooltipText","id","text","onClick"],D=function(e){var t=e.className,n=void 0===t?"mr-1":t,a=e.color,r=void 0===a?"success":a,o=e.tooltipText,c=void 0===o?"Editar":o,i=e.id,s=void 0===i?"edit":i,l=e.text,d=void 0===l?"Editar":l,j=e.onClick,v=Object(b.a)(e,F);return Object(p.jsxs)(R,Object(u.a)(Object(u.a)({className:n,color:r,tooltipText:c,id:s||c,onClick:j},v),{},{children:[d," ",Object(p.jsx)("i",{className:"fa fa-pencil-square-o"})]}))},H=["className","color","tooltipText","id","onClick","text"],I=function(e){var t=e.className,n=void 0===t?"mr-1":t,a=e.color,r=void 0===a?"danger":a,o=e.tooltipText,c=void 0===o?"Eliminar":o,i=e.id,s=e.onClick,l=e.text,d=void 0===l?"Eliminar":l,j=Object(b.a)(e,H);return Object(p.jsxs)(R,Object(u.a)(Object(u.a)({className:n,color:r,tooltipText:c,id:i||c,onClick:s},j),{},{children:[d," ",Object(p.jsx)("i",{className:"fa fa-trash"})]}))},B=["className","color","tooltipText","text","id","onClick","isAdd"],q=function(e){var t=e.className,n=void 0===t?"mr-1":t,a=e.color,r=void 0===a?"success":a,o=e.tooltipText,c=void 0===o?"Guardar":o,i=e.text,s=void 0===i?"Guardar":i,l=e.id,d=void 0===l?"save":l,j=e.onClick,v=(e.isAdd,Object(b.a)(e,B));return Object(p.jsxs)(R,Object(u.a)(Object(u.a)({className:n,color:r,tooltipText:c,id:d||c,onClick:j},v),{},{children:[s," ",Object(p.jsx)("i",{className:"fa fa-floppy-o"})]}))},L=n(23),U=n.n(L),z=n(25);U.a.interceptors.response.use(null,(function(e){var t,n;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)>=400&&(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)<500||z.a.error("Error de conexi\xf3n con el servidor",{toastId:"ErrorServer"}),Promise.reject(e)})),U.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL;var K={get:U.a.get,put:U.a.put,delete:U.a.delete,post:U.a.post},W=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,M=W;function G(e){return"".concat(M,"/").concat(e)}function J(e){return K.get(G(e))}function V(e){try{return(null===e||void 0===e?void 0:e.id)?K.put(G(e.id),e):K.post(W,e)}catch(t){console.error("error al enviar",e)}}var $=n(131),Q=n(132),X=n(133),Y=n(134),Z=n(68),ee=n.n(Z),te=function(e){var t=e.text,n=e.type,a=void 0===n?"success":n,r=e.id;z.a[a](t,{toastId:r||t})},ne=function(e){var t,n;!function(e){var t=e.text,n=e.type,a=void 0===n?"error":n,r=e.id;z.a[a](t,{toastId:r||t})}({text:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,id:"error"})},ae=function(e,t){var n=Object(a.useState)(e),r=Object(N.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)({}),s=Object(N.a)(i,2),l=s[0],d=s[1];return{handleChangeInputFile:function(e){var t=e.currentTarget,n=t.name;!function(e,t){if(e){var n=new FileReader;n.addEventListener("load",(function(){t(n.result)})),n.readAsDataURL(e)}}(t.files[0],(function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(T.a)({},n,e))}))}))},handleChangeInput:function(e){var n=e.currentTarget,a=function(e){return"checkbox"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.checked:"date"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.toString():"file"===(null===e||void 0===e?void 0:e.type)?null===e||void 0===e?void 0:e.files:null===e||void 0===e?void 0:e.value;var t}(n),r=n.name,o=function(e,t){var n=e.name,a=e.value;return t[n](a)}(n,t),i=Object(u.a)({},l);o||delete i[r],d((function(e){return Object(u.a)(Object(u.a)({},i),{},Object(T.a)({},r,o))})),c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(T.a)({},r,a))}))},errors:l,state:o,setState:c}},re=function(){var e=ae({name:"",photo:"",phone:""},{phone:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/^(\()?\d{3}-?(\))?\d{3}-?\d{4}$/;return!(!e||!e.match(t))}(e)?"":"Telefono especificado es invalido"},name:function(e){return n=5,(null===(t=e)||void 0===t?void 0:t.length)>=n?null:"Nombre especificado es invalido";var t,n}}),t=e.handleChangeInput,n=e.errors,r=e.state,o=e.setState,c=r.name,i=r.phone,l=Object(s.g)().id,b=Object(s.f)();Object(a.useEffect)((function(){return v()}),[]);var v=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=404,e.prev=1,"new"!==l){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,J(l);case 6:n=e.sent,a=n.data,(r=a)&&o((function(e){return Object(u.a)(Object(u.a)({},e),r)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)===t&&(b.replace("/not-found"),console.error("erroer update"));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(r);case 3:return t=e.sent,(n=t.data).success&&b.replace("/books"),te({text:n.message}),e.abrupt("return");case 10:e.prev=10,e.t0=e.catch(0),ne(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("center",{className:"justify-content-center mt-5",children:Object(p.jsx)($.a,{className:"w-25 align-items-center justify-content-center",children:Object(p.jsxs)(Q.a,{children:[Object(p.jsxs)(X.a,{children:[Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)(h,{name:"name",label:"Nombre",value:c,onChange:t,errors:n,isRequired:!0})}),Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)(h,{name:"phone",label:"Tel\xe9fono",value:i,onChange:t,errors:n})})]}),Object(p.jsx)(X.a,{children:Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)("div",{className:"float-right mt-3",children:Object(p.jsx)(q,{onClick:O})})})})]})})})},oe=n(70),ce=(n(126),["data","columns","hasContainer","className","containerClassName","heigth","defaultPageSize","includeTables","ifTopHeader"]),ie=function(e){var t=e.data,n=void 0===t?[]:t,a=e.columns,r=(e.hasContainer,e.className),o=(e.containerClassName,e.heigth),c=void 0===o?"":o,i=e.defaultPageSize,s=void 0===i?5:i,l=(e.includeTables,e.ifTopHeader,Object(b.a)(e,ce));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(X.a,{children:Object(p.jsx)(Y.a,{md:"12",children:Object(p.jsx)(oe.a,Object(u.a)({data:n||[],columns:a,defaultPageSize:s,previousText:"Anterior",nextText:"Siguiente",noDataText:"No hay Datos ",pageText:"P\xe1gina",ofText:"de",rowsText:"filas",loadingText:"cargando",style:{height:c},className:"-striped -highlight  -fixed ".concat(r),freezeWhenExpanded:!0},l))})})})},se=function(e){var t=e.data,n=e.handleEditBook,a=e.handleDeleteBook,r=[{Header:"Titulo",accessor:"title"},{Header:"Descripcion",accessor:"description"},{Header:"#P\xe1ginas",accessor:"pageCount"},{Header:"Resumen",accessor:"excerpt"},{Header:"Fecha Publicaci\xf3n",accessor:"publishDate"},{Header:"Acciones",Cell:function(e){var t=e.original;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("center",{style:{width:"100%"},children:[Object(p.jsx)(D,{onClick:function(){return n(t)}}),Object(p.jsx)(I,{onClick:function(){return a(t)}})]})})}}];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ie,{columns:r,data:t})})},le=function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===a||void 0===a||null===(e=a.trim())||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.startsWith(null===r||void 0===r||null===(n=r.trim())||void 0===n?void 0:n.toLowerCase())},de=function(){var e=ae({filter:"",books:[],filteredBooks:[]}),t=e.state,n=e.setState,r=t.filter,o=t.books,c=t.filteredBooks,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=b(e,o);n((function(e){return Object(u.a)(Object(u.a)({},e),{},{filteredBooks:t})}))},l=Object(s.f)(),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null===t||void 0===t?void 0:t.filter((function(t){return le(null===t||void 0===t?void 0:t.name,e)||le(null===t||void 0===t?void 0:t.phone,e)}));return n},v=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.delete("https://localhost:44337/api/Books/1");case 3:a=e.sent,(r=a.data).success&&(o=null===c||void 0===c?void 0:c.filter((function(e){return e.id!==t})),n((function(e){return Object(u.a)(Object(u.a)({},e),{},{books:o,filteredBooks:o})}))),te({text:r.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ne(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get(M);case 3:t=e.sent,a=t.data,n((function(e){return Object(u.a)(Object(u.a)({},e),{},{books:a,filteredBooks:a})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(X.a,{children:[Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)(k,{label:"Filtro",onChange:function(e){var t=e.currentTarget;n((function(e){return Object(u.a)(Object(u.a)({},e),{},{filter:t.value})})),i(t.value)},value:r,onClick:i,onEnter:i})}),Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)(X.a,{children:Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)("div",{className:"float-right mt-3 mb-3",children:Object(p.jsx)(w,{onClick:function(e){e.id;l.push("books/new")}})})})})})]}),Object(p.jsx)(X.a,{children:Object(p.jsx)(Y.a,{md:12,children:Object(p.jsx)(se,{data:c,handleEditBook:function(e){var t=e.id;l.push("books/"+t)},handleDeleteBook:function(e){var t=e.id;!function(e){var t=e.title,n=e.text,a=e.icon,r=void 0===a?"warning":a,o=e.buttons,c=void 0===o||o,i=e.dangerMode,s=void 0===i||i,l=e.callback;ee()({title:t,text:n,icon:r,buttons:c,dangerMode:s}).then(l)}({text:"Esta seguro que desea eliminar este elemento",callback:function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&v(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}})})})]})};var ue=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"/books/:id",component:re}),Object(p.jsx)(s.a,{path:"/",component:de})]})})};var je=function(){return Object(p.jsx)(i.a,{children:Object(p.jsx)(ue,{})})};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(je,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.6a3c0e34.chunk.js.map